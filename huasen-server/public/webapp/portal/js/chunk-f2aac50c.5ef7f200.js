(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-f2aac50c","chunk-2fbfc204","chunk-5813d08c","chunk-e9a3f198"],{"0447":function(t,e,s){"use strict";s("c974")},"1b8b":function(t,e,s){"use strict";s.r(e);var i=s("6f90"),a=s("934a"),n=s("2f62"),o={name:"HomeNav",computed:{...Object(n.e)(["categorySites"])},methods:{changeAnchorPosition(t){let e=document.getElementById("site-anchor-"+encodeURI(t));e&&(e.scrollIntoView({behavior:"smooth",block:"start"}),[...e.parentNode.children].map(t=>{t.classList.remove("active-anchor")}),e.className=e.className+" active-anchor",this.$nextTick(()=>{i.a.pubEv(a.d,e.offsetTop)}))}}},r=(s("a998"),s("2877")),c=Object(r.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"discolor",rawName:"v-discolor"}],staticClass:"home-nav",attrs:{id:"js-home-nav"}},[s("header"),s("main",{directives:[{name:"discolor",rawName:"v-discolor"}],attrs:{id:"js-home-nav__main"}},[s("ul",{directives:[{name:"balance",rawName:"v-balance"},{name:"discolor",rawName:"v-discolor"}],attrs:{id:"js-home-nav__main-ul"}},t._l(t.categorySites,(function(e,i){return s("li",{key:i,staticClass:"record-item pointer text",on:{click:function(e){return t.changeAnchorPosition(i)}}},[t._v(" "+t._s(e.typeName)+" ")])})),0)])])}),[],!1,null,"09350337",null);e.default=c.exports},"1ef1":function(t,e,s){},"1fe2":function(t,e,s){"use strict";var i=[function(){var t=this.$createElement,e=this._self._c||t;return e("main",[e("img",{staticClass:"w-full",attrs:{src:s("653f")}}),e("div",{staticClass:"w-full text"},[this._v("空空如也")])])}],a={name:"Empty",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"}},computed:{style(){return{"--emptyWidth":this.TOOL.handleSize(this.width),"--emptyHeight":this.TOOL.handleSize(this.height)}}}},n=(s("8503"),s("2877")),o=Object(n.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"discolor",rawName:"v-discolor"}],staticClass:"empty",style:this.style,attrs:{id:"js-empty"}},[this._m(0)])}),i,!1,null,"51dbe8cd",null);e.a=o.exports},2767:function(t,e,s){},"34d7":function(t,e,s){"use strict";s("c01dc")},"3e09":function(t,e,s){},"508ea":function(t,e,s){t.exports=s.p+"img/tianqiicon_duoyun_heiye.73e2a4b5.png"},5576:function(t,e,s){"use strict";s("2767")},"58aa":function(t,e,s){},"5a7f":function(t,e,s){t.exports=s.p+"img/tianqiicon_qingtian_baitian.52defb70.png"},"5cb6":function(t,e,s){t.exports=s.p+"img/tianqiicon_dayu.0b94af12.png"},6068:function(t,e,s){t.exports=s.p+"img/tianqiicon_duoyun_baitian.ea7ea788.png"},"653f":function(t,e,s){t.exports=s.p+"img/empty.ef9dd5f7.png"},"6c0e":function(t,e,s){t.exports=s.p+"img/tianqiicon_leidian.7abc6d20.png"},7267:function(t,e,s){"use strict";s.r(e);var i=s("2f62"),a={name:"HsClock",data:()=>({hours:"00",minutes:"00",seconds:"00"}),mounted(){setInterval(this.clock,1e3)},methods:{clock(){let t=(new Date).getHours(),e=(new Date).getMinutes(),s=(new Date).getSeconds();this.$data.hours=t<10?"0"+t:t,this.$data.minutes=e<10?"0"+e:e,this.$data.seconds=s<10?"0"+s:s}}},n=(s("34d7"),s("2877")),o=Object(n.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hs-clock"},[s("div",{staticClass:"time"},[s("span",{ref:"hour",staticClass:"hour"},[t._v(t._s(t.hours))]),s("div",{staticClass:"text"},[t._v("时")]),s("span",{ref:"minute",staticClass:"minute"},[t._v(t._s(t.minutes))]),s("div",{staticClass:"text"},[t._v("分")]),s("span",{ref:"second",staticClass:"second"},[t._v(t._s(t.seconds))]),s("div",{staticClass:"text"},[t._v("秒")])])])}),[],!1,null,"77315c13",null).exports;const r=new(s("dfa12").a)(void 0,200),c={0:s("5a7f"),1:s("6068"),2:s("a15ae"),3:s("d9c1"),4:s("6c0e"),7:s("b4b4"),8:s("f878"),9:s("f878"),10:s("5cb6"),18:s("e044")},l={0:s("d116"),1:s("508ea"),2:s("a15ae"),3:s("9120"),4:s("6c0e"),7:s("b4b4"),8:s("f878"),9:s("f878"),10:s("5cb6"),18:s("e044")};var h={name:"Weather",data:()=>({loaded:!1,showWeather:!0,imgDaytimeMap:c,weather:{}}),computed:{...Object(i.e)(["user"]),isDaytime(){const t=(new Date).getHours();return t>=6&&t<18},iconStyle(){let t=this.isDaytime?c:l;return{backgroundImage:`url(${t[this.weather.img]||t[0]})`}}},watch:{"user.config.cityCode":{handler(t,e){r.run(()=>{this.queryWeather()})},immediate:!0}},mounted(){},methods:{queryWeather(){this.loaded=!1,this.user.config.cityCode&&this.API.Weather.getWeatherByCityCode({cityId:this.user.config.cityCode},{notify:!1,errorNotify:!1,loading:!1}).then(t=>{this.loaded=!0,this.weather=t.data,console.log("天气信息：",t.data)})}}},d=(s("5576"),{name:"HomeHead",components:{Clock:o,Weather:Object(n.a)(h,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.showWeather&&t.loaded,expression:"showWeather && loaded"}],staticClass:"flex items-center",attrs:{id:"hs-weather"}},[s("div",{staticClass:"city text",attrs:{title:t.weather.cityName}},[t._v(t._s(t.weather.cityName))]),s("div",{staticClass:"icon",style:t.iconStyle}),s("div",{staticClass:"weather text",attrs:{title:t.weather.weather}},[t._v(t._s(t.weather.weather))]),s("div",{staticClass:"temp text",attrs:{title:t.weather.minTemp+"°C"}},[t._v(t._s(t.weather.minTemp+"°C"))]),s("div",{staticClass:"quality text",attrs:{title:t.weather.quality}},[t._v(t._s(t.weather.quality))])])}),[],!1,null,"e74432aa",null).exports,IconBox:s("9a2c").a},props:{headBgConfig:{type:Object,default:()=>({clear:!1,white:!1,grossGlass:!0})}},data:()=>({showMenu:!1,selectedTake:"常用热门",takes:[],journals:[],currentJournal:{}}),computed:{...Object(i.e)(["user"]),showGrossGlass(){return!!(this.showMenu&&document.body.clientWidth<=1024)},signText(){return this.user.token?this.user.name:"注册登录"},links(){return this.$store.state.navConfig},defaultJournalId(){const{journal:t}=this.$route.query;return t||this.STORAGE.getItem(this.CONSTANT.appJournal)}},updated(){this.defaultJournalId&&this.handleHash(this.defaultJournalId)},mounted(){this.querySites(),this.queryJournals(),this.initMenu()},methods:{...Object(i.d)(["commitAll"]),handleHash(t){let e=location.hash.split("?")[0];location.hash=`${e}?journal=${t}`},querySites(){this.API.Site.findSiteByCode({},{notify:!1}).then(t=>{this.commitAll({sites:t.data})})},queryJournals(){this.API.Journal.findJournal({},{notify:!1}).then(t=>{0!==t.data.length&&(this.journals=t.data||[],this.handleSelectJournal(this.defaultJournalId||this.journals[0]._id))})},handleSelectJournal(t){if(!t)return;this.journals.find(e=>e._id===t)?this.API.Journal.findJournalInformationById({_id:t},{notify:!1}).then(e=>{this.selectJournal(e.data),this.STORAGE.setItem(this.CONSTANT.appJournal,t),this.handleHash(t)}):this.$notify.warning("订阅源不存在，请您重新选择！")},selectJournal(t){this.currentJournal=t,this.commitAll({categorySites:t.series})},handleNavbar(){this.commitAll({user:{config:{showNavbar:!this.user.config.showNavbar}}}),this.$store.dispatch("snapshoot")},sign(){this.user.token?this.commitAll({showWrapPerson:!0}):this.commitAll({showWrapSign:!0})},handleMenu(){this.showMenu=!this.showMenu},initMenu(){let t=this.LODASH.debounce(()=>{document.body.clientWidth>1024?this.showMenu=!0:this.showMenu=!1},100,{leading:!0,trailing:!0});window.addEventListener("resize",t),this.$once("hook:beforeDestory",()=>{window.removeEventListener("resize",t)}),this.$nextTick(()=>{let t=new Event("resize",{bubbles:!0,cancelable:!1});document.dispatchEvent(t)})},jump(t,e){let s;switch(t.type){case"link":this.TOOL.openPage(this.LODASH.get(t,"typeConfig.url"),this.LODASH.get(t,"typeConfig.target"));break;case"article":if(s=this.LODASH.get(t,"typeConfig.articleId"),!s)return;this.TOOL.jumpToRead(this,s)}}}}),u=(s("789a"),Object(n.a)(d,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"discolor",rawName:"v-discolor"}],staticClass:"home-head",class:{clear:!t.showGrossGlass&&t.headBgConfig.clear,white:t.headBgConfig.white,"gross-glass":t.showGrossGlass||t.headBgConfig.grossGlass},attrs:{id:"js-home-head"}},[s("section",{staticClass:"fold",on:{click:t.handleNavbar}},[s("i",{staticClass:"iconfont icon-a-unfoldcross-line"})]),s("section",{staticClass:"menu",on:{click:t.handleMenu}},[s("i",{staticClass:"iconfont icon-md-menu"})]),t.showMenu?s("section",{staticClass:"collapse"},[s("ul",{staticClass:"links"},t._l(t.links,(function(e,i){return s("li",{key:i,on:{click:function(s){return t.jump(e,i)}}},[e.icon?s("IconBox",{attrs:{size:"16px",icon:e.icon}}):t._e(),s("span",{staticClass:"text"},[t._v(t._s(e.label))])],1)})),0)]):t._e(),s("section",{staticClass:"today"},[s("div",{staticClass:"clock-group"},[s("Clock")],1),s("div",{staticClass:"weather-group"},[s("Weather")],1)]),t.showMenu?s("section",{staticClass:"take"},[s("el-dropdown",{staticClass:"dropdown",on:{command:t.handleSelectJournal}},[s("span",{staticClass:"el-dropdown-link pointer",on:{click:function(e){return t.handleSelectJournal(t.currentJournal._id)}}},[t._v(" "+t._s(t.currentJournal.name||"无订阅源")+" "),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{staticClass:"journal-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[t.journals.length?t._l(t.journals,(function(e){return s("el-dropdown-item",{key:e._id,staticClass:"text",staticStyle:{"max-width":"124px"},attrs:{title:e.name,command:e._id}},[t._v(" "+t._s(e.name)+" ")])})):[s("el-dropdown-item",{attrs:{disabled:!0}},[t._v(" 空空如也 ")])]],2)],1)],1):t._e(),t.showMenu?s("section",{staticClass:"sign",attrs:{title:t.user.id},on:{click:t.sign}},[t._v(" "+t._s(t.signText||t.user.id.slice(0,4)+"...")+" ")]):t._e()])}),[],!1,null,"1e33b492",null));e.default=u.exports},"789a":function(t,e,s){"use strict";s("83eb")},"83eb":function(t,e,s){},8503:function(t,e,s){"use strict";s("3e09")},9120:function(t,e,s){t.exports=s.p+"img/tianqiicon_zhenyu_heiye.ff0abcb7.png"},"9bd2":function(t,e,s){"use strict";s.r(e);var i=s("2f62"),a={name:"HomeSite",data:()=>({loadedTag:!1,pinMap:{1:{label:"热",color:"var(--danger)"},2:{label:"墙",color:"var(--warning)"},3:{label:"优",color:"var(--success)"},4:{label:"免",color:"var(--primary)"}}}),computed:{...Object(i.e)(["appConfig","categorySites"]),categorySitesData(){let t=this.LODASH.cloneDeep(this.categorySites)||[];return t.forEach(t=>{t.selectedTag="",t.allTags=this.handleCategoryAllTag(t)}),t}},mounted(){this.$store.dispatch("initLocalStyleInfo")},methods:{showTag(t){return this.LODASH.get(this.appConfig,"site.openLabelClassification")&&0!==t.allTags.length},imgUrl:t=>t.icon,handleSelectTag(t,e){t.selectedTag=t.selectedTag===e?"":e,this.$forceUpdate()},handleDisplaySites:t=>t.selectedTag?t.sites.filter(e=>e.tags&&e.tags.includes(t.selectedTag)):t.sites,handleCategoryAllTag(t){let e=[];return(this.LODASH.get(t,"sites")||[]).forEach(t=>{let s=this.TOOL.parseJSON(t.expand,{}),i=this.LODASH.get(s,"tag");Array.isArray(i)&&(t.tags=i,e=e.concat(i))}),e=Array.from(new Set(e)),e},handlePin(t){let e=[];try{e=JSON.parse(t.expand).pin.slice(0,6)}catch(t){e=[]}return e}}},n=(s("b07f"),s("2877")),o=Object(n.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"discolor",rawName:"v-discolor"}],staticClass:"home-site",attrs:{id:"js-home-site"}},t._l(t.categorySitesData,(function(e,i){return s("section",{key:e.typeName+"-"+i,attrs:{id:"site-anchor-"+encodeURI(i)}},[s("div",{directives:[{name:"discolor",rawName:"v-discolor"}],staticClass:"site-item"},[s("header",[s("i",{staticClass:"category-icon relative left-px-2 iconfont icon-tag"}),s("a",{staticClass:"category-title",attrs:{name:e.typeName}},[t._v(t._s(e.typeName))]),t.showTag(e)?s("div",{staticClass:"w-full pb-px-4 my-px-4 overflow-x-auto overflow-y-hidden"},[s("div",{staticClass:"inherit-bg tag-container flex items-center p-px-4 bg-gray-100 rounded-full"},[s("div",{staticClass:"inherit-bg flex-shrink-0 text-12px text text-center w-px-80 px-px-2 py-px-4 ml-px-6 first:ml-px-0 hover:bg-blue-400 hover:text-white transition rounded-full pointer",class:{selected:""===e.selectedTag},attrs:{title:"全部"},on:{click:function(s){return t.handleSelectTag(e,"")}}},[t._v(" 全部 ")]),t._l(e.allTags,(function(i){return s("div",{key:i,staticClass:"inherit-bg flex-shrink-0 text-12px text text-center w-px-80 px-px-2 py-px-4 ml-px-6 first:ml-px-0 hover:bg-blue-400 hover:text-white transition rounded-full pointer",class:{selected:e.selectedTag===i},attrs:{title:i},on:{click:function(s){return t.handleSelectTag(e,i)}}},[t._v(" "+t._s(i)+" ")])}))],2)]):t._e()]),s("main",[s("ul",{directives:[{name:"balance",rawName:"v-balance"}]},t._l(t.handleDisplaySites(e),(function(e,i){return s("a",{key:e.url+"-"+i,staticClass:"relative site inherit-text",attrs:{href:e.url,title:e.describe,target:"_blank"}},[s("div",{staticClass:"pin-group absolute -top-px-6 right-px-0 w-full h-px-16 flex justify-end"},t._l(t.handlePin(e),(function(e,i){return s("div",{key:e+"-"+i,staticClass:"w-px-16 h-px-16 mr-px-2 text-12px text-gray-0 flex justify-center items-center rounded-full",style:{backgroundColor:t.LODASH.get(t.pinMap,e+".color")}},[t.LODASH.get(t.pinMap,e)?[t._v(" "+t._s(t.LODASH.get(t.pinMap,e+".label"))+" ")]:t._e()],2)})),0),s("div",{staticClass:"site-card inherit-text text w-px-180 sm:w-px-150"},[s("div",{staticClass:"img-group"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{siteUrl:e.url,iconPatch:t.appConfig.site.autoIconPatch},expression:"{ siteUrl: site.url, iconPatch: appConfig.site.autoIconPatch }"}],attrs:{src:t.imgUrl(e)}})]),s("div",{staticClass:"text-group"},[s("div",{staticClass:"name text"},[t._v(t._s(e.name))]),s("div",{staticClass:"describe inherit-text text"},[t._v(t._s(e.describe))])])])])})),0)])])])})),0)}),[],!1,null,"3011ab08",null);e.default=o.exports},a15ae:function(t,e,s){t.exports=s.p+"img/tianqiicon_yintian.a95f8b9c.png"},a998:function(t,e,s){"use strict";s("58aa")},b07f:function(t,e,s){"use strict";s("1ef1")},b3d7:function(t,e,s){"use strict";s.r(e);var i=s("2f62"),a=s("6f90"),n=s("934a"),o=s("7267"),r=s("17c3"),c=s("cf4c"),l=s("0159"),h=s("1b8b"),d=s("9bd2"),u=s("1fe2"),m={name:"Home",components:{HomeHead:o.default,HomeWallpaper:r.default,HomeSearch:c.default,HomeRecord:l.default,HomeNav:h.default,HomeSite:d.default,Empty:u.a},data:()=>({headBgConfig:{clear:!0,white:!1,grossGlass:!1}}),computed:{...Object(i.e)(["categorySites"]),categoryEmpty(){return 0===this.categorySites.length}},watch:{"$route.path":{handler(t,e){if("/home"===t){let t=new Event("scroll",{bubbles:!0,cancelable:!1});this.$refs.homeContent.dispatchEvent(t)}}}},mounted(){this.initScrollEvent(),this.initEventBus(),this.initLocalStyleInfo(),a.a.pubEv(n.a)},destroyed(){a.a.pubEv(n.b),a.a.unSubEv(n.d),a.a.unSubEv(n.a),a.a.unSubEv(n.b)},methods:{...Object(i.d)(["commitAll"]),...Object(i.b)(["initLocalStyleInfo"]),handleHomeSearchFucos(t){a.a.pubEv(n.c,t.key)},initScrollEvent(){let t=this.TOOL.debounce(t=>{let e={clear:!1,white:!1,grossGlass:!1};t.target.scrollTop>210?(this.commitAll({showWrapSidebarSocket:!0}),e.white=!0):t.target.scrollTop>30?(this.commitAll({showWrapSidebarSocket:!0}),e.grossGlass=!0):(this.commitAll({showWrapSidebarSocket:!1}),e.clear=!0),this.headBgConfig=e},10);this.$refs.homeContent.addEventListener("scroll",t),this.$once("hook:beforeDestory",()=>{this.$refs.homeContent.removeEventListener("scroll",t)})},initEventBus(){a.a.subEv(n.d,(t,e)=>{let s=e?t:this.$refs.siteContent.$el.offsetTop-85+t;this.homeContentScrollTo(s)}),a.a.subEv(n.a,()=>{document.addEventListener("keyup",this.handleHomeSearchFucos)}),a.a.subEv(n.b,()=>{document.removeEventListener("keyup",this.handleHomeSearchFucos)})},homeContentScrollTo(t){this.$refs.homeContent.scrollTo({top:t,behavior:"smooth"})}}},p=(s("0447"),s("2877")),f=Object(p.a)(m,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("HomeWallpaper"),e("section",{staticClass:"content"},[e("HomeHead",{attrs:{headBgConfig:this.headBgConfig}}),e("main",{ref:"homeContent",staticClass:"home-content"},[e("HomeSearch"),e("HomeRecord"),this.categoryEmpty?this._e():e("HomeNav"),this.categoryEmpty?this._e():e("HomeSite",{ref:"siteContent"}),this.categoryEmpty?e("div",{staticClass:"empty-panel"},[e("Empty")],1):this._e()],1)],1)],1)}),[],!1,null,"c5893f68",null);e.default=f.exports},b4b4:function(t,e,s){t.exports=s.p+"img/tianqiicon_xiaoyu.6e3beeca.png"},c01dc:function(t,e,s){},c974:function(t,e,s){},d116:function(t,e,s){t.exports=s.p+"img/tianqiicon_qingtian_heiye.85f3e3ee.png"},d9c1:function(t,e,s){t.exports=s.p+"img/tianqiicon_zhenyu_baitian.6f8bfd03.png"},e044:function(t,e,s){t.exports=s.p+"img/tianqiicon_wu.18f9294e.png"},f878:function(t,e,s){t.exports=s.p+"img/tianqiicon_zhongyu.0b94af12.png"}}]);
//# sourceMappingURL=chunk-f2aac50c.5ef7f200.js.map